# Game-theory



## Anti-SG Game

> 桌子上有 N 堆石子，游戏者轮流取石子。每次只能从一堆中取出任意数目的石子，但不能不取。**取走最后一个石子者败**。

先手必胜当且仅当
* 所有堆的石子数都为 1 且游戏的 SG 值为 0
* 有些堆的石子数大于 1 且游戏的 SG 值不为 0



## Every-SG Game

> 每一个可以移动的棋子都要移动。
> Every-SG 游戏规定，对于还没有结束的单一游戏，游戏者必须
对该游戏进行一步决策。

在通过拓扑关系计算某一个状态点的 SG 函数时（事实上，我们只需
要计算该状态点的 SG 值是否为 0），对于 SG 值为 0 的点，我们需要知道
最快几步能将游戏带入终止状态，对于 SG 值不为 0 的点，我们需要知道
最慢几步游戏会被带入终止状态，我们用 step 函数来表示这个值。


* `step(v) = max(step(u)) + 1  (sg(v) > 0 && u是v的后继 && sg(u) == 0)`
* `step(v) = min(step(u)) + 1  (sg(v) == 0 && u是v的后继)`


对于  Every-SG  游戏先手必胜当且仅当单一游戏中最大的 step 为奇
数。




## 威佐夫博弈(Wythoff Game)

> 有两堆各若干个物品，两个人轮流从某一堆或同时从两堆中取同样多的物品，规定每次至少取一个，多者不限，最后取光者得胜。

必败态 (a,b) 成黄金比。





## 树的删边游戏

> 给出一个有N个点的树，有一个点作为树的根节点。游戏者轮流从树中删去边，删去一条边后，不与根节点相连的部分将被移走。谁无路可走谁输。

叶子节点的SG值为0；中间节点的SG值为它的所有子节点的SG值加1后的异或和。





## 无向图的删边游戏

> 一个无向联通图，有一个点作为图的根。游戏者轮流从图中删去边，删去一条边后，不与根节点相连的部分将被移走。谁无路可走谁输。


对于这个模型，有一个著名的定理——Fusion Principle

我们可以对无向图做如下改动：将图中的任意一个偶环缩成一个新点，任意一个奇环缩成一个新点加一个新边；所有连到原先环上的边全
部改为与新点相连。 这样的改动不会影响图的SG。

这个原理的证明十分复杂，限于篇幅原因，这里略掉不讲，有兴趣的同学可以参见 《Winning.Ways.for.Your.Mathematical.Plays.V1》Chapter 7 ，P193




## SPOJ-PEBBMOV

> 给定n堆石子，每次可以选择一堆石子，拿走任意个，然后将堆中剩余石子移动任意个到任意一些堆里，不能操作者为输。

不同游戏之间会互相影响，不能用sg。

必败状态为：n为偶数，且将石子数相同的堆两两配对可以配成n/2对。 


证明：

- 如果初始有奇数堆石子，那么先手可以将最小的堆和第二小的堆配对，第三小的堆和第四小的堆配对，...，然后用最大的堆填补差值，显然一定能填补上； 

- 如果初始有偶数堆石子，那么先手可以将最大的堆和最小的堆配对，第二小的堆和第三小的堆配对，第四小的堆和第五小的堆配对，...，用最大的堆多出来的部分填补差值，显然也一定能填补上。 




## Reference

[博弈问题总结](http://blog.csdn.net/acm_cxlove/article/details/7854526)

